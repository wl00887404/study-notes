#include <iostream>
using namespace std;

class Solution {
 public:
  unordered_map<int, string> map = {{1, "1"}};

  string countAndSay(int n) {
    if (map.count(n)) return map[n];

    string s = countAndSay(n - 1);
    map[n] = "";
    int size = s.size();

    int i = 0;
    while (i < size) {
      char& c = s[i];
      int count = 1;
      i++;

      while (i < size && s[i] == c) {
        count++;
        i++;
      }

      map[n] += '0' + count;
      map[n] += c;
    }

    return map[n];
  }
};

class Solution2019 {
 public:
  string countAndSay(int n) {
    if (n == 1) return "1";

    string last_result = countAndSay(n - 1) + "$";
    string result = "";

    int count = 0;
    for (int i = 0; i < last_result.length() - 1; i++) {
      char c = last_result[i];
      count++;

      if (c != last_result[i + 1]) {
        result += count + '0';
        result += c;
        count = 0;
      }
    }

    return result;
  }
};

class IASolution {
 public:
  string countAndSay(int n) {
    switch (n) {
      case 1:
        return "1";
      case 2:
        return "11";
      case 3:
        return "21";
      case 4:
        return "1211";
      case 5:
        return "111221";
      case 6:
        return "312211";
      case 7:
        return "13112221";
      case 8:
        return "1113213211";
      case 9:
        return "31131211131221";
      case 10:
        return "13211311123113112211";
      case 11:
        return "11131221133112132113212221";
      case 12:
        return "3113112221232112111312211312113211";
      case 13:
        return "1321132132111213122112311311222113111221131221";
      case 14:
        return "11131221131211131231121113112221121321132132211331222113112211";
      case 15:
        return "311311222113111231131112132112311321322112111312211312111322212"
               "311322113212221";
      case 20:
        return "111312211312111322212321121113121112131112132112311321322112111"
               "312211312112213211231132132211231131122211311123113322112111312"
               "211312111322111213122112311311123112112322211213211321322113311"
               "213212312311211131122211213211331121321123123211231131122211211"
               "13122113121113123112112322111213211322211312113211";
      case 25:
        return "132113213221133112132123123112111311222112132113311213211231232"
               "112311311222112111312211311123113322112132113212231121113112221"
               "121321132132211231232112311321322112311311222113111231133221121"
               "113122113121113221112131221123113111231121123222112132113213221"
               "133112132123123112111312111312212231131122211311123113322112111"
               "312211312111322111213122112311311123112112322211211131221131211"
               "132221232112111312111213111213211231132132211211131221232112111"
               "312212221121123222112132113213221133112132123123112111311222112"
               "132113213221132213211321322112311311222113311213212322211211131"
               "221131211221321123113213221121113122113121132211332113221122112"
               "133221123113112221131112311332111213122112311311123112111331121"
               "113122112132113121113222112311311221112131221123113112221121113"
               "311211131122211211131221131211132221121321132132212321121113121"
               "112133221123113112221131112212211131221121321131211132221123113"
               "112221131112311332211211133112111311222112111312211311123113322"
               "112111312211312111322212321121113121112133221121321132132211331"
               "121321231231121113112221121321132122311211131122211211131221131"
               "211322113322112111312211322132113213221123113112221131112311311"
               "121321122112132231121113122113322113111221131221";
      case 30:
        return "311311222113111231133211121312211231131112311211133112111312211"
               "213211312111322211231131122111213122112311311222112111331121113"
               "112221121113122113121113222112132113213221232112111312111213322"
               "112311311222113111221221113122112132113121113222112311311222113"
               "111231133221121113311211131122211211131221131112311332211211131"
               "221131211132221232112111312111213322112132113213221133112132113"
               "221321123113213221121113122123211211131221222112112322211231131"
               "122211311123113321112132132112211131221131211132221121321132132"
               "212321121113121112133221123113112221131112311332111213122112311"
               "311123112112322211211133112111311222112111312211311123113322112"
               "111312211312111322111213122112311311123112112322211211131221131"
               "211132221232112111312111213111213211231132132211211131221232112"
               "111312212221121123222112132113213221133112132123123112111311222"
               "112132113213221132213211321322112311311222113311213212322211211"
               "131221131211221321123113213221121113122113121132211332113221122"
               "112133221123113112221131112311332111213122112311311123112111331"
               "121113122112132113121113222112311311221112131221123113112221121"
               "113311211131122211211131221131211132221121321132122311211131122"
               "211213211321322113312221131122112211131221131211132221232112111"
               "312111213111213211231132132211211131221232112111312212221121123"
               "222112132113213221133112132123123112111311222112132113213221132"
               "213211321322112311311222113311213212322211211131221131211221321"
               "123113213221121113122113121132211332113221122112133221121321132"
               "132211331121321231231121113112221121321133112132112312321123113"
               "112221121113122113111231133221121321132122311211131122211213211"
               "321322112312321123113213221123113112221131112311332211211131221"
               "131211132211121312211231131112311211232221121321132132211331221"
               "122311311222112111312211311123113322112132113213221133122211332"
               "111213112221133211322112211213322112311311222113111231133211121"
               "312211231131112311211133112111312211213211312111322211231131122"
               "111213122112311311222112111331121113112221121113122113121113222"
               "112132113213221232112111312111213322112311311222113111231133211"
               "121312211231131112311211232221132231131122211311123113321112131"
               "221123113111231121123222112111312211312111322212321121113122113"
               "221113122112132113121113222112311311221112131221123113112211322"
               "112211213322112132113213221133112132123123112111312111312212231"
               "131122211311123113322112111312211312111322111213122112311311123"
               "112112322211213211321322113311213212312311211131221132231121113"
               "311211131221121321131112311322311211132132212312211322212221121"
               "123222112111312211312111322212321121113121112131112132112311321"
               "322112111312212321121113122112131112131221121321132132211231131"
               "122211331121321232221121113122113121122132112311321322112111312"
               "211312111322211213111213122112132113121113222112132113213221133"
               "112132123222112311311222113111231132231121113112221121321133112"
               "132112211213322112111312211312111322212311222122132113213221123"
               "113112221133112132123222112111312211312111322212321121113121112"
               "133221121311121312211213211312111322211213211321322123211211131"
               "211121332211213211321322113311213212312311211131122211213211331"
               "121321122112133221123113112221131112311332111213122112311311222"
               "113223113112221121113122113111231133221121321132122311211131122"
               "211213211321222113222122211211232221121113122113121113222123211"
               "211131211121311121321123113111231131122112213211321322113311213"
               "212322211231131122211311123113223112111311222112132113311213211"
               "221121332211211131221131211132221232112111312111213111213211231"
               "132132211211131221232112111312212221121123222112131112131221121"
               "321131211132221121321132132212321121113121112133221121321132132"
               "211331121321132213211231132132211211131221232112111312212221121"
               "123222112132113213221133112132123123112111311222112132113311213"
               "211231232112311311222112111312211311123113322112132113212231121"
               "113112221121321132122211322212221121123222112311311222113111231"
               "133211121312211231131112311211133112111312211213211312111322211"
               "231131122111213122112311311222112111331121113112221121113122113"
               "121113222112132113213221232112111312111213322112311311222113111"
               "231133211121321321122111312211312111322211213211321322123211211"
               "131211121332211213211321322113311213212312311211131221132231121"
               "113311211131221222112112322211213211321322113311213212322211322"
               "311311222113111231133211121312211231131112311211232221121113122"
               "113121113222123211211131211121311121321123113213221121113122113"
               "121122132112311321322112311311222113111221132221232221123113112"
               "221132211131221131211132221121321132132211331121321133112111312"
               "2122211211132213211231131122212322211331222113112211";
    }

    return "";
  }
} solution;